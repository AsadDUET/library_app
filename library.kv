#:kivy 1.11.0
<HomeScreen>:
    MDGridLayout:
        cols: 1
        spacing: dp(10)
        MDToolbar:
            id: toolbar
            title: ''
            height: dp(30)
            # md_bg_color: app.theme_cls.primary_color
            elevation: 10
            left_action_items: [["arrow-left", lambda x: root.close_app()]]
            pos_hint: {"top": 1}
        MDLabel:
            id: welcome
            text: 'Welcome to\nLibrary Management App'
            halign: "center"
            font_style: 'H3'

        
        MDGridLayout:
            cols: 4
            size_hint_y: 0.3
            padding: (10,10)
            spacing: dp(10)
            MDRaisedButton:
                text: 'Close'
                font_size: "36sp"
                size_hint: 1, 1
                on_release: root.close_app()
            MDRaisedButton:
                text: 'Enrole'
                font_size: "36sp"
                size_hint: 1, 1
                # on_press: root.go_enrole_screen()
                on_release: root.go_enrole_screen()
                # on_state:
                #     print("my current state is {}".format(self.state))
            MDRaisedButton:
                text: 'Check'
                font_size: "36sp"
                size_hint: 1, 1
                on_release: root.go_check_screen()
            MDRaisedButton:
                text: 'Take/Back'
                font_size: "36sp"
                size_hint: 1, 1
                on_release: root.go_exchange_screen()
<EnroleScreen>:
    MDGridLayout:
        cols: 1
        spacing: dp(10)
        # padding: (10,10)
        MDToolbar:
            id: toolbar
            title: ''
            height: dp(30)
            # md_bg_color: app.theme_cls.primary_color
            elevation: 10
            left_action_items: [["arrow-left", lambda x: root.back()]]
            pos_hint: {"top": 1}
        MDGridLayout:
            cols: 1
            spacing: dp(10)
            padding: (10,10)
            MDLabel:
                text: "Student Enrole"
                font_style: 'H3'
                size_hint_y:.3
                halign: "center"
            MDLabel:
                id: instruction
                theme_text_color: "Custom"
                text_color: 1, 0, 0, 1
                text: "instruction"
                font_style: 'H4'
                size_hint_y:.2
                halign: "center"
            # MDLabel:
            #     text: "Student ID"
            #     halign: "left"
            #     size_hint_y:.1
            MDGridLayout:
                cols: 2
                spacing: dp(10)
                padding: (10,10)
                MDGridLayout:
                    cols: 1
                    spacing: dp(10)
                    padding: (10,10)
                    MDTextField:
                        id: stdName
                        hint_text: "Student Name"
                        font_size: "36sp"
                    MDTextField:
                        id: stdID
                        hint_text: "Student ID"
                        font_size: "36sp"
                    MDTextField:
                        id: fID
                        hint_text: "Finger Print ID"
                        font_size: "36sp"
                MDGridLayout:
                    cols: 1
                    spacing: dp(10)
                    padding: (10,10)
                    Image:
                        id: preview
                        source: ''
                        allow_stretch: True
            MDRaisedButton:
                text: 'Clear finger database'
                font_size: "36sp"
                size_hint_y: .3
                size_hint_x: 1
                # on_press: root.go_enrole_screen()
                on_release: root.clear()
            MDGridLayout:
                cols: 4
                spacing: dp(10)
                padding: (10,10)
                size_hint_y:.3
                MDRaisedButton:
                    text: 'Back'
                    font_size: "36sp"
                    size_hint: 1, 1
                    # on_press: root.go_enrole_screen()
                    on_release: root.back()
                MDRaisedButton:
                    text: 'Fid +'
                    font_size: "36sp"
                    size_hint: 1, 1
                    on_release: root.fidPlus()
                MDRaisedButton:
                    text: 'Fid -'
                    font_size: "36sp"
                    size_hint: 1, 1
                    on_release: root.fidMinus()
                MDRaisedButton:
                    text: 'Submit'
                    font_size: "36sp"
                    size_hint: 1, 1
                    # on_press: root.go_enrole_screen()
                    on_release: root.submit()
            
<ExchangeScreen>:
    MDGridLayout:
        cols: 1
        spacing: dp(10)
        MDToolbar:
            id: toolbar
            title: ''
            height: dp(30)
            # md_bg_color: app.theme_cls.primary_color
            elevation: 10
            left_action_items: [["arrow-left", lambda x: root.back()]]
            pos_hint: {"top": 1}
        MDGridLayout:
            cols: 1
            spacing: dp(10)
            padding: (10,10)
            MDLabel:
                text: "Submit after complete"
                font_style: 'H3'
                size_hint_y:.3
                halign: "center"
            MDLabel:
                id: instruction
                theme_text_color: "Custom"
                text_color: 1, 0, 0, 1
                text: "instruction"
                font_style: 'H4'
                size_hint_y:.2
                halign: "center"
            MDGridLayout:
                cols: 2
                spacing: dp(10)
                padding: (10,10)
                MDGridLayout:
                    cols: 1
                    spacing: dp(10)
                    MDTextField:
                        id: bookID
                        hint_text: "Book ID"
                        font_size: "36sp"
                    MDTextField:
                        id: stdID
                        hint_text: "Student ID"
                        font_size: "36sp"
                    MDTextField:
                        id: fID
                        hint_text: "Finger Print ID"
                        font_size: "36sp"
                MDGridLayout:
                    cols: 1
                    spacing: dp(10)
                    Image:
                        id: preview
                        source: ''
                        allow_stretch: True
                    Image:
                        id: preview2
                        source: ''
                        allow_stretch: True
            MDGridLayout:
                cols: 4
                spacing: dp(10)
                size_hint_y:.2
                MDRaisedButton:
                    text: 'Back'
                    font_size: "36sp"
                    size_hint: 1,0.2
                    on_release: root.back()
                MDRaisedButton:
                    text: 'Scan StdID'
                    font_size: "36sp"
                    size_hint: 1,0.2
                    on_release: root.scan_id()
                MDRaisedButton:
                    text: 'Scan Book'
                    font_size: "36sp"
                    size_hint: 1,0.2
                    on_release: root.scan_book()
                MDRaisedButton:
                    text: 'Submit'
                    font_size: "36sp"
                    size_hint: 1,0.2
                    on_release: root.submit()

<BookAddScreen>:
    MDGridLayout:
        cols: 1
        spacing: dp(10)
        MDToolbar:
            id: toolbar
            title: ''
            height: dp(30)
            # md_bg_color: app.theme_cls.primary_color
            elevation: 10
            left_action_items: [["arrow-left", lambda x: root.back()]]
            pos_hint: {"top": 1}
        MDGridLayout:
            cols: 1
            spacing: dp(10)
            padding: (10,10)
            MDLabel:
                text: "Submit after complete"
                font_style: 'H3'
                size_hint_y:.3
                halign: "center"
            MDLabel:
                id: instruction
                theme_text_color: "Custom"
                text_color: 1, 0, 0, 1
                text: "instruction"
                font_style: 'H4'
                size_hint_y:.2
                halign: "center"
            MDGridLayout:
                cols: 2
                spacing: dp(10)
                padding: (10,10)
                MDGridLayout:
                    cols: 1
                    spacing: dp(10)
                    MDTextField:
                        id: bookTitle
                        hint_text: "Book Title"
                        font_size: "36sp"
                    MDTextField:
                        id: bookID
                        hint_text: "Book ID"
                        font_size: "36sp"
                    MDTextField:
                        id: quantity
                        hint_text: "Quantity"
                        font_size: "36sp"
                MDGridLayout:
                    cols: 1
                    spacing: dp(10)
                    Image:
                        id: preview
                        source: ''
                        allow_stretch: True
                    Image:
                        id: preview2
                        source: ''
                        allow_stretch: True
            MDGridLayout:
                cols: 4
                spacing: dp(10)
                size_hint_y:.2
                MDRaisedButton:
                    text: 'Back'
                    font_size: "36sp"
                    size_hint: 1,0.2
                    on_release: root.back()
                MDRaisedButton:
                    text: ' '
                    font_size: "36sp"
                    size_hint: 1,0.2
                    # on_release: root.scan_id()
                MDRaisedButton:
                    text: 'Scan Book'
                    font_size: "36sp"
                    size_hint: 1,0.2
                    on_release: root.scan_book()
                MDRaisedButton:
                    text: 'Submit'
                    font_size: "36sp"
                    size_hint: 1,0.2
                    on_release: root.submit()
<BookListScreen>:
    GridLayout:
        cols: 1
        MDToolbar:
            id: toolbar
            title: ''
            height: dp(30)
            # md_bg_color: app.theme_cls.primary_color
            elevation: 10
            # left_action_items: [["arrow-left", lambda x: root.back()]]
            pos_hint: {"top": 1}
        MDLabel:
            text: "Book List"
            font_style: 'H3'
            size_hint_y:.1
            halign: "center"
        GridLayout:
            cols: 1
            id: bookTable
<StudentListScreen>:
    GridLayout:
        cols: 1
        MDToolbar:
            id: toolbar
            title: ''
            height: dp(30)
            # md_bg_color: app.theme_cls.primary_color
            elevation: 10
            # left_action_items: [["arrow-left", lambda x: root.back()]]
            pos_hint: {"top": 1}
        MDLabel:
            text: "Student List"
            font_style: 'H3'
            size_hint_y:.1
            halign: "center"
        GridLayout:
            cols: 1
            id: bookTable

<ExchangeListScreen>:
    GridLayout:
        cols: 1
        MDToolbar:
            id: toolbar
            title: ''
            height: dp(30)
            # md_bg_color: app.theme_cls.primary_color
            elevation: 10
            # left_action_items: [["arrow-left", lambda x: root.back()]]
            pos_hint: {"top": 1}
        MDLabel:
            text: "Exchange List"
            font_style: 'H3'
            size_hint_y:.1
            halign: "center"
        GridLayout:
            cols: 1
            id: bookTable

<ListSelectScreen>:
    GridLayout:
        cols: 1
        MDToolbar:
            id: toolbar
            title: ''
            height: dp(30)
            # md_bg_color: app.theme_cls.primary_color
            elevation: 10
            left_action_items: [["arrow-left", lambda x: root.back()]]
            pos_hint: {"top": 1}
        GridLayout:
            cols: 1
            padding: (10,10)
            MDLabel:
                text: "Select List"
                font_style: 'H3'
                # size_hint_y:.1
                halign: "center"
            GridLayout:
                cols:4
                spacing: dp(10)
                size_hint_y: 0.1
                MDRaisedButton:
                    text: 'Back'
                    font_size: "36sp"
                    size_hint: 1, 1
                    on_release: root.back()
                MDRaisedButton:
                    text: 'BookList'
                    font_size: "36sp"
                    size_hint: 1, 1
                    on_release: root.go_book_screen()
                MDRaisedButton:
                    text: 'Std List'
                    font_size: "36sp"
                    size_hint: 1, 1
                    on_release: root.go_student_screen()
                MDRaisedButton:
                    text: 'Exchanges'
                    font_size: "36sp"
                    size_hint: 1, 1
                    on_release: root.go_exchange_list_screen()



<EnroleSelectScreen>:
    GridLayout:
        cols: 1
        MDToolbar:
            id: toolbar
            title: ''
            height: dp(30)
            # md_bg_color: app.theme_cls.primary_color
            elevation: 10
            left_action_items: [["arrow-left", lambda x: root.back()]]
            pos_hint: {"top": 1}
        GridLayout:
            cols: 1
            padding: (10,10)
            MDLabel:
                text: "Select List"
                font_style: 'H3'
                # size_hint_y:.1
                halign: "center"
            GridLayout:
                cols:4
                spacing: dp(10)
                size_hint_y: 0.1
                MDRaisedButton:
                    text: 'Back'
                    font_size: "36sp"
                    size_hint: 1, 1
                    on_release: root.back()
                MDRaisedButton:
                    text: 'Add Book'
                    font_size: "36sp"
                    size_hint: 1, 1
                    on_release: root.go_book_add_screen()
                MDRaisedButton:
                    text: 'Add Student'
                    font_size: "34sp"
                    size_hint: 1, 1
                    on_release: root.go_enrole_screen()
                MDRaisedButton:
                    text: ''
                    font_size: "36sp"
                    size_hint: 1, 1
                    # on_release: root.go_exchange_list_screen()